(()=>{"use strict";class e{static getProjects(){let e;return e=null===localStorage.getItem("projects")?[]:JSON.parse(localStorage.getItem("projects")),e}static addToDo(t,l){const o=e.getProjects();if(!1===o.some((e=>e.proTitle===t.proTitle))||0===o.length)o.push(t),localStorage.setItem("projects",JSON.stringify(o));else for(let e=0;e<=o.length-1;e+=1)o[e].proTitle===t.proTitle&&(o[e].todos.push(l),localStorage.setItem("projects",JSON.stringify(o)));location.reload()}static removeToDo(t){const l=e.getProjects();l.forEach((e=>{e.todos.forEach(((l,o)=>{l.time===t&&e.todos.splice(o,1)}))})),localStorage.setItem("projects",JSON.stringify(l))}static updateToDo(t,l){const o=e.getProjects();o.forEach((e=>{e.proTitle===l&&e.todos.forEach(((l,o)=>{l.time.to_s===t.time.to_s&&(e.todos[o]=t)}))})),localStorage.setItem("projects",JSON.stringify(o)),location.reload()}static removePr(t){const l=e.getProjects();l.forEach(((e,o)=>{e.proTitle===t&&l.splice(o,1)})),localStorage.setItem("projects",JSON.stringify(l))}}class t{constructor(e){this.proTitle=e,this.todos=[]}}const l=t=>{const l=document.querySelector("#todo-form");l.id="update-form",l.lastElementChild.value="Update To Do",l.lastElementChild.addEventListener("click",(l=>{l.preventDefault();const o=document.querySelector("#title").value,r=document.querySelector("#description").value,i=document.querySelector("#due-date").value,s=document.querySelector("#priority").value,c=document.querySelector("#notes").value,n=document.querySelector("#project").value,a=document.querySelector("#flexCheckChecked");const d={todoTitle:o,desc:r,dueDate:i,priority:s,notes:c,checkList:a.checked?"Done":"Not Done",time:t},u=n;e.updateToDo(d,u)}))},o=()=>{document.querySelector(".form-container").classList.toggle("show-modal")};document.querySelector("#todo-form").addEventListener("submit",(l=>{l.preventDefault();const i=document.querySelector("#title").value,s=document.querySelector("#description").value,c=document.querySelector("#due-date").value,n=document.querySelector("#priority").value,a=document.querySelector("#notes").value,d=document.querySelector("#project").value,u=document.querySelector("#flexCheckChecked");const m=u.checked?"Done":"Not Done";o();const p=new t(d),v={todoTitle:i,desc:s,dueDate:c,priority:n,notes:a,checkList:m,time:(new Date).getTime()};p.todos.push(v),r.addProjects(p),e.addToDo(p,v)}));class r{static urlSlug(e){return e.split(/\W/).filter((e=>""!==e)).join("-").toLowerCase()}static displayProjects(){const t=e.getProjects();r.addAllToDos(t),t.forEach((e=>{r.addProjects(e)})),r.addButton(),r.addRemoveButton(),document.querySelectorAll("#delete-project").forEach((t=>{t.addEventListener("click",(t=>{const l=t.target.parentElement.previousSibling.innerText;r.deletePrTab(t.target),e.removePr(l)}))})),document.querySelectorAll("#edit").forEach((t=>{t.addEventListener("click",(i=>{const s=t.parentElement.parentElement.parentElement.firstChild.nextSibling.firstChild.nextSibling.firstChild.nextSibling.innerText;o(),r.fillFields(s),l(s),r.deletePrTab(i.target),e.removePr(s)}))}))}static addProjects(e){const t=document.querySelector("#v-pills-tab"),l=(e=>{const t=document.createElement("a");return t.setAttribute("class","nav-link"),t.setAttribute("id",`v-pills-${r.urlSlug(e.proTitle)}-tab`),t.setAttribute("data-toggle","pill"),t.setAttribute("href",`#v-pills-${r.urlSlug(e.proTitle)}`),t.setAttribute("role","tab"),t.setAttribute("aria-controls",`v-pills-${r.urlSlug(e.proTitle)}`),t.setAttribute("aria-selected","false"),t})(e),o=(()=>{const e=document.createElement("a");return e.setAttribute("class","d-flex justify-content-center m-1"),e.setAttribute("id","delete-project"),e.innerHTML='\n  <i class="far fa-trash-alt dissapear"></i>\n  ',e})();l.innerText=`${e.proTitle}`,t.appendChild(l),t.appendChild(o);const i=document.querySelector("#v-pills-tabContent"),s=(e=>{const t=document.createElement("div");return t.setAttribute("class","tab-pane fade"),t.setAttribute("id",`v-pills-${r.urlSlug(e.proTitle)}`),t.setAttribute("aria-labelledby",`v-pills-${r.urlSlug(e.proTitle)}`),t.setAttribute("role","tabpanel"),e.todos.forEach((e=>{const l=document.createElement("div");l.setAttribute("class","row border-bottom pb-2 mt-2"),l.innerHTML=`\n      <div class="col-10 row">\n      <div class="col-12 col-md-6 row">\n      <li class="d-none">${e.time}</li>\n      <li class="col">${e.todoTitle}</li>\n      <li class="col">${e.desc}</li>\n      <li class="col">${e.dueDate}</li>\n      </div>\n      <div class="col-12 col-md-6 row">\n      <li class="col">${e.priority}</li>\n      <li class="col">${e.notes}</li>\n      <li class="col">${e.checkList}</li>\n      </div>\n      </div>\n      <div class="col-2 row">\n      <span class="col-6" id="delete"><a href="#" class="btn btn-danger btn-sm delete"><i class="far fa-trash-alt"></i></a></span>\n      <span class="col-6"><a href="#" id="edit" class="btn btn-primary btn-sm ml-1"><i class="far fa-edit"></i></a></span>\n      </div>\n      `,t.appendChild(l)})),t})(e);i.appendChild(s)}static addAllToDos(e){const t=document.querySelector("#v-pills-home");e.forEach((e=>{const l=(e=>{const t=document.createElement("div");return e.todos.forEach((e=>{const l=document.createElement("div");l.setAttribute("class","row border-bottom pb-2 mt-2"),l.innerHTML=`\n      <div class="col-12 col-md-6 row">\n      <li class="d-none">${e.time}</li>\n      <li class="col">${e.todoTitle}</li>\n      <li class="col">${e.desc}</li>\n      <li class="col">${e.dueDate}</li>\n      </div>\n      <div class="col-12 col-md-6 row">\n      <li class="col">${e.priority}</li>\n      <li class="col">${e.notes}</li>\n      <li class="col">${e.checkList}</li>\n      </div>\n      `,t.appendChild(l)})),t})(e);t.appendChild(l)}))}static addButton(){const e=document.querySelector("#v-pills-tabContent"),t=document.createElement("div");t.setAttribute("class","btn btn-light addbtn w-100 bolder text-primary shadow mt-3"),t.innerText="+",t.addEventListener("click",(e=>{e.stopPropagation(),o()})),e.appendChild(t)}static deleteToDo(e){e.parentElement.parentElement.remove()}static deletePrTab(e){e.parentElement.previousSibling.remove(),e.parentElement.remove()}static addRemoveButton(){document.querySelectorAll("#delete").forEach((t=>{t.addEventListener("click",(l=>{l.stopPropagation(),r.deleteToDo(t);const o=t.parentElement.parentElement.firstChild.nextSibling.firstChild.nextSibling.firstChild.nextSibling.innerText;e.removeToDo(o)}))}))}static clearFields(){}static fillFields(t){e.getProjects().forEach((e=>{e.todos.forEach((l=>{if(l.time===t){document.querySelector("#title").value=l.todoTitle,document.querySelector("#description").value=l.desc,document.querySelector("#due-date").value=l.dueDate,document.querySelector("#priority").value=l.priority,document.querySelector("#notes").value=l.notes;const t=document.querySelector("#project");t.value=e.proTitle,t.disabled=!0}}))}))}}document.addEventListener("DOMContentLoaded",r.displayProjects);(class{static createTabs(){document.getElementById("content").innerHTML='\n    <div class="row">\n    <div class="col-2">\n      <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">\n        <a class="nav-link mb-3 active border-bottom" id="v-pills-home-tab" data-toggle="pill" href="#v-pills-home" role="tab" aria-controls="v-pills-home" aria-selected="true">Home</a>\n      </div>\n    </div>\n    <div class="col-10">\n      <div class="tab-content" id="v-pills-tabContent">\n        <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab"></div>\n      </div>\n    </div>\n  </div>\n    '}}).createTabs()})();